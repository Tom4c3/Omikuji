<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>おみくじ</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    text-align: center;
    padding: 20px;
  }
  #omikujiButton {
    padding: 10px 20px;
    font-size: 20px;
    cursor: pointer;
  }
  #result {
    margin-top: 20px;
    font-size: 24px;
  }
  #resultImage img {
    margin-top: 20px;
    max-width: 80%;
    height: auto;
  }
</style>
</head>
<body>
<h1>おみくじ</h1>
<button id="omikujiButton">おみくじを引く</button>
<div id="result"></div>
<div id="resultImage"></div>

<script>
  document.getElementById('omikujiButton').addEventListener('click', function() {
    var results = ['デカすぎんだろ吉', 'デカ吉', 'ドカ吉', '大吉', 'ハッピー吉', '狂', '大狂'];
    var probabilities = [0.02, 0.10, 0.15, 0.4, 0.2, 0.08, 0.05];
    var images = [
      './result/dekasugindarokichi.png', // デカすぎんだろ吉の画像
      './result/dekachi.png', // デカ吉の画像
      './result/dokakichi.png', // ドカ吉の画像
      './result/daikichi.png',    // 大吉の画像
      './result/happykichi.png', // ハッピー吉の画像
      './result/kyo.png',      // 狂の画像
      './result/daikyo.png'    // 大狂の画像
    ];
    var result = drawOmikuji(results, probabilities);
    document.getElementById('result').textContent = 'あなたの運勢は… ' + result + '！';
    document.getElementById('resultImage').innerHTML = '<img src="' + images[results.indexOf(result)] + '" alt="' + result + '" />';
  });

  function drawOmikuji(results, probabilities) {
    var sum = 0;
    var r = Math.random();
    for (var i = 0; i < results.length; i++) {
      sum += probabilities[i];
      if (r <= sum) return results[i];
    }
    return results[results.length - 1];
  }
</script>
</body>
</html>
